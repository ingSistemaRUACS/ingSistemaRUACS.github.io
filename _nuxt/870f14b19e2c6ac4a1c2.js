(window.webpackJsonp=window.webpackJsonp||[]).push([[13],{267:function(e,t,n){var content=n(323);"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,n(13).default)("6398e4cd",content,!0,{sourceMap:!1})},322:function(e,t,n){"use strict";var r=n(267);n.n(r).a},323:function(e,t,n){(e.exports=n(12)(!1)).push([e.i,"#pub-info{text-align:right;margin-bottom:30px}.pub-detail{font-size:.8em;color:#878787}main{padding:0 70px}#pub-content{max-width:900px;margin:0 auto}.asistentes-ev{margin:20px;padding:5px;width:20em;border-radius:2px;box-shadow:0 0 5px 0 grey}.asistente{margin:20px 0;border-top:1px solid grey;border-bottom:1px solid grey}@media(max-width:700px){main{padding:0 20px}p.quote{margin:15px 0}}",""])},334:function(e,t,n){"use strict";n.r(t);n(28),n(19),n(25),n(274);var r=n(10),o=(n(42),n(16),n(9),n(81),n(35),n(4)),c=n(77),l=function e(t,n,r,o,l,d,f){Object(c.a)(this,e),this.titulo=t,this.autor=n,this.contenido=r,this.fecha=o,this.imagenes=l||{},this.esEvento=d,this.fechaEvento=f},d=n(275),f=n.n(d),m=n(14),v=n(7);function h(object,e){var t=Object.keys(object);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(object);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(object,e).enumerable}))),t.push.apply(t,n)}return t}var x,w=function(e){return"#"},y=new f.a.Converter({headerLevelStart:2,simplifiedAutoLink:!0,extensions:[{type:"lang",regex:/\^\^youtube (\S+)/g,replace:'<iframe width="560" height="315" src="https://www.youtube.com/embed/$1" frameborder="0" allow="accelerometer; autoplay; encrypted-media;gyroscope; picture-in-picture" allowfullscreen></iframe>'},{type:"lang",regex:/\^\^imagen (\S+)/g,replace:function(e,t){var n=w(t);return n||(t="Imagen no encontrada"),'<img src="'.concat(n,'" alt="').concat(t,'"></img>')}}]}),_={created:function(){w=this.findImg},data:function(){return{publicacion:new l("Sin Titulo","Nadie","El contenido de la publicacion","12-12-1967",!1),inexistente:!1,userVerified:this.isStudentVerified,asistentes:[]}},asyncData:(x=Object(o.a)(regeneratorRuntime.mark((function e(t){var n,r,c,d,f,i,v,h,x,w,y;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.route,r=n.params.id,c=m.c.collection("posts").doc(r),e.next=5,c.get();case 5:if(!(d=e.sent.data())){e.next=28;break}if(f=[],!(d.imagenes.length>0)){e.next=12;break}return e.next=11,Promise.all(d.imagenes.map((function(e){var t=m.e.ref(e.path);return t&&t.getDownloadURL()})));case 11:f=e.sent;case 12:for(i=0;i<f.length;i++)d.imagenes[i].name,f[i],d.imagenes[i].url=f[i];if(v=new l(d.titulo,d.autor,d.codigo,new Date(d.publicadoEn).toLocaleDateString(),d.imagenes,d.esEvento,d.fechaEvento),h=[],!v.esEvento){e.next=25;break}return x=m.b.ref("events/"+r),e.next=19,x.once("value");case 19:return w=e.sent.val(),y=w&&w.users||[],e.next=23,Promise.all(y.map(function(){var e=Object(o.a)(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",m.b.ref("users/"+t).once("value"));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 23:e.t0=function(e){return{id:e.key,carnet:e.val().carnet,seccion:e.val().section}},h=e.sent.map(e.t0);case 25:return e.abrupt("return",{idPub:r,publicacion:v,asistentes:h});case 28:return e.abrupt("return",{idPub:r,inexistente:!0,asistentes:[]});case 29:case"end":return e.stop()}}),e)}))),function(e){return x.apply(this,arguments)}),computed:function(e){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?h(source,!0).forEach((function(t){Object(r.a)(e,t,source[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(source)):h(source).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(source,t))}))}return e}({htmlContent:function(){return y.makeHtml(this.publicacion.contenido)}},v.c.isStudentVerified),methods:{findImg:function(e){var t=this.publicacion.imagenes.find((function(t){return t.name==e}));return t&&t.url},sayYoullGo:function(){var e=this;m.d.httpsCallable("addUserToEvent")({eventId:this.idPub}).then((function(t){e.$router.$forceUpdate()}))}}},O=(n(322),n(5)),component=Object(O.a)(_,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("main",[e.inexistente?n("div",{staticStyle:{}},[n("h1",[e._v("La publicacion cargada no existe! :(")]),e._v(" "),n("h1",[e._v("ID de la publicacion: '"+e._s(e.idPub)+"'")])]):n("span",[n("h1",{attrs:{id:"pub-title"}},[e._v("\n      "+e._s(e.publicacion.titulo)+"\n    ")]),e._v(" "),n("section",{attrs:{id:"pub-info"}},[n("span",{staticClass:"pub-detail",attrs:{id:"pub-date"}},[e._v(e._s(e.publicacion.fecha))])]),e._v(" "),n("div",{attrs:{id:"pub-content"},domProps:{innerHTML:e._s(e.htmlContent)}}),e._v(" "),n("hr"),e._v(" "),e.publicacion.esEvento?n("div",[e._v("\n      Este evento ocurri"+e._s(Date.now()<new Date(e.publicacion.fechaEvento).getTime()?"rá":"ó")+" en:\n      "+e._s(new Date(e.publicacion.fechaEvento).toLocaleDateString())+"\n\n      "),n("div",{staticClass:"asistentes-ev"},[e._v("\n        Quienes asistiran:\n        "),e._l(e.asistentes,(function(t){return n("div",{key:t.id,staticClass:"asistente"},[n("strong",[e._v("Carnet:")]),e._v(" "+e._s(t.carnet)+" |\n          "),n("strong",[e._v("Seccion:")]),e._v(" "+e._s(t.seccion)+"\n        ")])})),e._v(" "),n("button",{on:{click:e.sayYoullGo}},[e._v("Asistiré!")])],2)]):e._e()])])}),[],!1,null,null,null);t.default=component.exports}}]);